<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Blog - Money Seed</title>
    <link rel="stylesheet" href="css/admin-area.css">

    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Padauk:wght@400;700&display=swap" rel="stylesheet">

    <script>
        const token = localStorage.getItem('userToken');
        if (!token) {
            window.location.href = 'internal-login.html';
        }
    </script>
</head>

<body class="dark-theme">

    <aside class="admin-sidebar">
        <div class="sidebar-logo">
            <img src="images/money_seed_logo-v2.png" alt="Money Seed Logo" class="logo-icon">
            <h1>MONEY SEED</h1>
        </div>

        <nav class="sidebar-nav">
            <ul>
                <li class="nav-item">
                    <a href="admin-dashboard.html">
                        <span class="material-symbols-outlined nav-icon">dashboard</span>
                        <span>DashBoard</span>
                    </a>
                </li>

                <li class="nav-category">Management</li>
                <li class="nav-item active">
                    <a href="admin-studio.html">
                        <span class="material-symbols-outlined nav-icon">post</span>
                        <span>Content Studio</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="admin-site-setting.html">
                        <span class="material-symbols-outlined nav-icon">inbox_customize</span>
                        <span>Site Setting</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="main-user-management.html">
                        <span class="material-symbols-outlined nav-icon">manage_accounts</span>
                        <span>User Management</span>
                    </a>
                </li>
                <li class="nav-category">
                    Database
                </li>
                <li class="nav-item">
                    <a href="admin-analytics.html">
                        <span class="material-symbols-outlined nav-icon">
                            bar_chart_4_bars
                        </span>
                        <span>Analytics</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="user-management.html">
                        <svg class="nav-icon" viewBox="0 0 24 24">
                            <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M22 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                        <span>Team Members</span>
                    </a>
                </li>
                <li class="nav-category">
                    System
                </li>
                <li class="nav-item">
                    <a href="system-setting.html">
                        <span class="material-symbols-outlined nav-icon">
                            settings_heart
                        </span>
                        <span>Setting</span>
                    </a>
                </li>
            </ul>
            <div class="sidebar-footer">
                <button class="btn-logout" id="logout-button">
                    <span class="btn-text-one"><span class="material-symbols-outlined">logout</span> Log out</span>
                    <span class="btn-text-two">Goodbye! <span
                            class="material-symbols-outlined">waving_hand</span></span>
                </button>
            </div>
        </nav>
    </aside>

    <div class="main-content-wrapper studio-mode">

        <header class="admin-header">
            <div id="clock">
                <p class="date"></p>
                <p class="time"></p>
            </div>

            <div class="header-actions">
                <div class="header-profile">
                    <div class="profile-text">
                        <span class="greeting">Hey, <strong>EdwardKenway</strong></span>
                        <span class="role">Admin</span>
                    </div>
                    <img src="images/admin-profile-1.jpg" alt="Profile Avatar" class="profile-avatar">
                </div>
            </div>
        </header>

        <main class="admin-main">

            <div id="blog-hub" class="blog-hub-container">
                <h1 class="hub-greeting">Good evening</h1>

                <div class="hub-section">
                    <h2 class="section-label">New Files</h2>
                    <div class="templates-grid">
                        <div class="doc-card" onclick="switchToEditor()">
                            <div class="doc-preview blank-preview">
                                <div class="line"></div>
                                <div class="line"></div>
                                <div class="line"></div>
                            </div>
                            <span class="doc-name">Blog</span>
                        </div>

                        <div class="doc-card" onclick="switchToEditor('course')">
                            <div class="doc-preview template-preview">
                                <div class="image-block"></div>
                                <div class="line"></div>
                                <div class="line"></div>
                            </div>
                            <span class="doc-name">Course</span>
                        </div>
                    </div>
                </div>

                <div class="hub-section">
                    <div class="recent-header">
                        <h2 class="section-label active" onclick="filterFiles('recent', this)">Recent</h2>
                        <h2 class="section-label" onclick="filterFiles('drafts', this)">Drafts</h2>
                        <h2 class="section-label" onclick="filterFiles('pinned', this)">Pinned</h2>
                    </div>

                    <div class="recent-files-list" id="file-list">

                        <div class="file-item pinned">
                            <div class="file-icon-box" style="background-color: #2563EB;">
                                <span class="material-symbols-outlined">article</span>
                            </div>
                            <div class="file-info">
                                <span class="file-name">
                                    How to use Canva
                                    <span class="material-symbols-outlined icon-pinned"
                                        style="display: inline-block; color: #10B981;">push_pin</span>
                                </span>
                                <span class="file-path">Money Seed / Blog / Tech</span>
                            </div>
                            <span class="file-status status-published">Published</span>
                            <span class="file-date">Yesterday at 4:20 PM</span>

                            <div class="menu-wrapper">
                                <button class="icon-btn" onclick="toggleMenu(this, event)">
                                    <span class="material-symbols-outlined">more_vert</span>
                                </button>
                                <div class="dropdown-menu">
                                    <div class="menu-item" onclick="switchToEditor()"><span
                                            class="material-symbols-outlined">edit</span> Edit</div>
                                    <div class="menu-item"><span class="material-symbols-outlined">visibility</span>
                                        Preview</div>
                                    <div class="menu-item" onclick="togglePin(this)"><span
                                            class="material-symbols-outlined">keep_off</span> <span
                                            class="pin-text">Unpin</span></div>
                                    <div class="menu-item danger" onclick="openDeleteModal(this)"><span
                                            class="material-symbols-outlined">delete</span> Delete</div>
                                </div>
                            </div>
                        </div>

                        <div class="file-item">
                            <div class="file-icon-box" style="background-color: #7C3AED;">
                                <span class="material-symbols-outlined">school</span>
                            </div>
                            <div class="file-info">
                                <span class="file-name">
                                    Top 10 Investment Strategies
                                    <span class="material-symbols-outlined icon-pinned">push_pin</span>
                                </span>
                                <span class="file-path">Money Seed / Course / Finance</span>
                            </div>
                            <span class="file-status status-draft">Draft</span>
                            <span class="file-date">Oct 24, 2025</span>

                            <div class="menu-wrapper">
                                <button class="icon-btn" onclick="toggleMenu(this, event)">
                                    <span class="material-symbols-outlined">more_vert</span>
                                </button>
                                <div class="dropdown-menu">
                                    <div class="menu-item" onclick="switchToEditor()"><span
                                            class="material-symbols-outlined">edit</span> Edit</div>
                                    <div class="menu-item"><span class="material-symbols-outlined">visibility</span>
                                        Preview</div>
                                    <div class="menu-item" onclick="togglePin(this)"><span
                                            class="material-symbols-outlined">keep</span> <span
                                            class="pin-text">Pin</span></div>
                                    <div class="menu-item danger" onclick="openDeleteModal(this)"><span
                                            class="material-symbols-outlined">delete</span> Delete</div>
                                </div>
                            </div>
                        </div>

                        <div class="file-item">
                            <div class="file-icon-box" style="background-color: #2563EB;">
                                <span class="material-symbols-outlined">article</span>
                            </div>
                            <div class="file-info">
                                <span class="file-name">
                                    Welcome to Money Seed
                                    <span class="material-symbols-outlined icon-pinned">push_pin</span>
                                </span>
                                <span class="file-path">Money Seed / Blog / Updates</span>
                            </div>
                            <span class="file-status status-published">Published</span>
                            <span class="file-date">Sep 12, 2025</span>

                            <div class="menu-wrapper">
                                <button class="icon-btn" onclick="toggleMenu(this, event)">
                                    <span class="material-symbols-outlined">more_vert</span>
                                </button>
                                <div class="dropdown-menu">
                                    <div class="menu-item" onclick="switchToEditor()"><span
                                            class="material-symbols-outlined">edit</span> Edit</div>
                                    <div class="menu-item"><span class="material-symbols-outlined">visibility</span>
                                        Preview</div>
                                    <div class="menu-item" onclick="togglePin(this)"><span
                                            class="material-symbols-outlined">keep</span> <span
                                            class="pin-text">Pin</span></div>
                                    <div class="menu-item danger" onclick="openDeleteModal(this)"><span
                                            class="material-symbols-outlined">delete</span> Delete</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="course-editor" class="blog-editor-container" style="display: none;">

                <div class="editor-header-nav">
                    <div class="nav-left">
                        <button onclick="backToHub()" class="btn-back">
                            <span class="material-symbols-outlined">arrow_back</span> Back to Hub
                        </button>
                    </div>
                    <div class="nav-right">
                        <button class="btn-preview">
                            <span class="material-symbols-outlined">visibility</span> Preview Course
                        </button>
                    </div>
                </div>

                <div class="editor-layout">

                    <div class="editor-main">
                        <div style="padding: 1.5rem 1.5rem 0 1.5rem; background: var(--bg-secondary);">
                            <input type="text" id="course-section-title" class="post-title-input"
                                placeholder="Section Title">
                        </div>
                        <textarea id="course-content-area"></textarea>
                    </div>

                    <div class="editor-sidebar">

                        <div class="editor-card">
                            <h3>Publish</h3>
                            <div class="editor-card-content">
                                <p class="status-text">Status: <span class="status-draft">Draft</span></p>
                                <button class="btn-publish" onclick="saveCourse()">Save Entire Course</button>
                            </div>
                        </div>

                        <div class="editor-card">
                            <h3>Course Structure</h3>
                            <div class="editor-card-content" style="gap: 0.5rem;">
                                <div class="module-item active" id="tab-overview"
                                    onclick="loadCourseSection('overview')">
                                    <span class="material-symbols-outlined">info</span>
                                    <span>Overview</span>
                                </div>

                                <hr style="border: 0; border-top: 1px solid var(--border-color); margin: 0.5rem 0;">

                                <div id="module-list-container"></div>

                                <button class="btn-add-module" onclick="addModule()">
                                    <span class="material-symbols-outlined">add</span> Add Module
                                </button>
                            </div>
                        </div>

                        <div class="editor-card">
                            <h3>Course Details</h3>
                            <div class="editor-card-content">
                                <label>Course Level</label>
                                <select class="editor-select" id="course-level">
                                    <option>Beginner</option>
                                    <option>Intermediate</option>
                                    <option>Advanced</option>
                                </select>

                                <label>Price ($)</label>
                                <input type="number" class="editor-input" id="course-price" placeholder="0.00">

                                <label>Cover Image</label>
                                <div class="image-upload-box">
                                    <span class="material-symbols-outlined">image</span>
                                    <p>Course Thumbnail</p>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <div id="blog-editor" class="blog-editor-container" style="display: none;">
                <div class="editor-header-nav">
                    <div class="nav-left">
                        <button onclick="backToHub()" class="btn-back">
                            <span class="material-symbols-outlined">arrow_back</span> Back to Hub
                        </button>
                    </div>
                    <div class="nav-right" style="display: flex; gap: 1rem; align-items: center;">
                        <button class="btn-preview" id="real-preview-btn">
                            <span class="material-symbols-outlined">visibility</span> Preview
                        </button>

                        <div id="reading-time"
                            style="color: var(--text-secondary); font-size: 0.9rem; font-weight: 500;">
                            0 min read
                        </div>
                    </div>
                </div>

                <div class="editor-layout">
                    <div class="editor-main">
                        <div style="padding: 1.5rem 1.5rem 0 1.5rem; background: var(--bg-secondary);">
                            <input type="text" class="post-title-input" placeholder="Blog Post Title"
                                style="width: 100%; border:none; background:transparent; font-size: 2rem; color:white; outline:none; margin-bottom: 1rem;">
                        </div>
                        <textarea id="my-pro-editor"></textarea>
                    </div>

                    <div class="editor-sidebar">
                        <div class="editor-card">
                            <h3>Publish</h3>
                            <div class="editor-card-content">
                                <p class="status-text">Status: <span class="status-draft">Draft</span></p>
                                <button class="btn-publish"><span class="material-symbols-outlined">rocket_launch</span>
                                    Publish</button>
                                <button class="btn-save-draft">Save Draft</button>
                            </div>
                        </div>
                        <div class="editor-card">
                            <h3>Post Settings</h3>
                            <div class="editor-card-content">
                                <label>Category</label>
                                <select class="editor-select" id="post-category">
                                    <option value="Technology">Technology</option>
                                    <option value="Finance">Finance</option>
                                    <option value="Lifestyle">Lifestyle</option>
                                    <option value="Updates">Updates</option>
                                </select>

                                <label>Author Name</label>
                                <input type="text" class="editor-input" id="post-author" placeholder="Who wrote this?">

                                <label>Tags</label>
                                <input type="text" class="editor-input" id="post-tags" placeholder="Add tags...">

                                <label>Featured Image</label>
                                <div class="image-upload-box">
                                    <span class="material-symbols-outlined">cloud_upload</span>
                                    <p>Upload Cover</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <div id="delete-modal" class="modal-overlay">
        <div class="modal-box">
            <div class="modal-icon"><span class="material-symbols-outlined">warning</span></div>
            <h3>Delete this file?</h3>
            <p>This action cannot be undone. The file will be permanently removed.</p>
            <div class="modal-actions">
                <button class="btn-cancel" onclick="closeDeleteModal()">Cancel</button>
                <button class="btn-delete-confirm" id="confirm-delete-btn">Delete</button>
            </div>
        </div>
    </div>

    <script src="js/tinymce/tinymce.min.js"></script>
    <script src="js/admin-dashboard-script.js"></script>

</body>

</html>