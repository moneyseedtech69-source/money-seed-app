<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Blog - Money Seed</title>
    <link rel="stylesheet" href="css/admin-area.css">

    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />

    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Padauk:wght@400;700&display=swap" rel="stylesheet">

    <script>
        const token = localStorage.getItem('userToken');
        if (!token) {
            window.location.href = 'internal-login.html';
        }
    </script>
</head>

<body class="dark-theme">

    <aside class="admin-sidebar">
        <div class="sidebar-logo">
            <img src="images/money_seed_logo-v2.png" alt="Money Seed Logo" class="logo-icon">
            <h1>MONEY SEED</h1>
        </div>

        <nav class="sidebar-nav">
            <ul>
                <li class="nav-item">
                    <a href="admin-dashboard.html">
                        <span class="material-symbols-outlined nav-icon"> dashboard
                        </span>
                        <span>DashBoard</span>
                    </a>
                </li>

                <li class="nav-category">
                    Management
                </li>
                <li class="nav-item active">
                    <a href="admin-studio.html">
                        <span class="material-symbols-outlined nav-icon">
                            post
                        </span>
                        <span>Content Studio</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a href="admin-site-setting.html">
                        <span class="material-symbols-outlined nav-icon">
                            inbox_customize
                        </span>
                        <span>Site Setting</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="main-user-management.html">
                        <span class="material-symbols-outlined nav-icon">
                            manage_accounts
                        </span>
                        <span>User Management</span>
                    </a>
                </li>

                <li class="nav-category">
                    Database
                </li>
                <li class="nav-item">
                    <a href="admin-analytics.html">
                        <span class="material-symbols-outlined nav-icon">
                            bar_chart_4_bars
                        </span>
                        <span>Analytics</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="user-management.html">
                        <svg class="nav-icon" viewBox="0 0 24 24">
                            <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M22 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                        <span>Team Members</span>
                    </a>
                </li>

                <li class="nav-category">
                    System
                </li>
                <li class="nav-item">
                    <a href="system-setting.html">
                        <span class="material-symbols-outlined nav-icon">
                            settings_heart
                        </span>
                        <span>Setting</span>
                    </a>
                </li>
            </ul>
            <div class="sidebar-footer">
                <button class="btn-logout" id="logout-button">
                    <span class="btn-text-one">
                        <span class="material-symbols-outlined">
                            logout
                        </span>
                        Log out</span>
                    <span class="btn-text-two">
                        Goodbye!
                        <span class="material-symbols-outlined">waving_hand</span>
                    </span>
                </button>
            </div>
        </nav>
    </aside>

    <div class="main-content-wrapper studio-mode">

        <header class="admin-header">
            <div id="clock">
                <p class="date"></p>
                <p class="time"></p>
            </div>

            <div class="header-actions">
                <div class="header-profile">
                    <div class="profile-text">
                        <span class="greeting">Hey, <strong>EdwardKenway</strong></span>
                        <span class="role">Admin</span>
                    </div>
                    <img src="images/admin-profile-1.jpg" alt="Profile Avatar" class="profile-avatar">
                </div>
            </div>
        </header>

        <main class="admin-main">

            <div id="blog-hub" class="blog-hub-container">

                <h1 class="hub-greeting">Good evening</h1>

                <div class="hub-section">
                    <h2 class="section-label">New Files</h2>
                    <div class="templates-grid">

                        <div class="doc-card" onclick="switchToEditor()">
                            <div class="doc-preview blank-preview">
                                <div class="line"></div>
                                <div class="line"></div>
                                <div class="line"></div>
                            </div>
                            <span class="doc-name">Blog</span>
                        </div>

                        <div class="doc-card">
                            <div class="doc-preview template-preview">
                                <div class="image-block"></div>
                                <div class="line"></div>
                                <div class="line"></div>
                            </div>
                            <span class="doc-name">Course</span>
                        </div>

                    </div>
                </div>

                <div class="hub-section">
                    <div class="recent-header">
                        <h2 class="section-label active" onclick="filterFiles('recent', this)">Recent</h2>
                        <h2 class="section-label" onclick="filterFiles('drafts', this)">Drafts</h2>
                        <h2 class="section-label" onclick="filterFiles('pinned', this)">Pinned</h2>
                    </div>

                    <div class="recent-files-list" id="file-list">

                        <div class="file-item pinned">
                            <div class="file-icon-box">
                                <span class="material-symbols-outlined">article</span>
                            </div>
                            <div class="file-info">
                                <span class="file-name">
                                    How to use Canva
                                    <span class="material-symbols-outlined icon-pinned"
                                        style="display: inline-block;">push_pin</span>
                                </span>
                                <span class="file-path">Money Seed / Blog / Tech</span>
                            </div>
                            <span class="file-status status-published">Published</span>
                            <span class="file-date">Yesterday at 4:20 PM</span>

                            <div class="menu-wrapper">
                                <button class="icon-btn" onclick="toggleMenu(this, event)">
                                    <span class="material-symbols-outlined">more_vert</span>
                                </button>
                                <div class="dropdown-menu">
                                    <div class="menu-item" onclick="switchToEditor()">
                                        <span class="material-symbols-outlined">edit</span> Edit
                                    </div>
                                    <div class="menu-item">
                                        <span class="material-symbols-outlined">visibility</span> Preview
                                    </div>

                                    <div class="menu-item" onclick="togglePin(this)">
                                        <span class="material-symbols-outlined">keep</span> <span
                                            class="pin-text">Pin</span>
                                    </div>

                                    <div class="menu-item danger" onclick="openDeleteModal(this)">
                                        <span class="material-symbols-outlined">delete</span> Delete
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="file-item" onclick="switchToEditor()">
                            <div class="file-icon-box">
                                <span class="material-symbols-outlined">edit_document</span>
                            </div>
                            <div class="file-info">
                                <span class="file-name">
                                    Top 10 Investment Strategies
                                    <span class="material-symbols-outlined icon-pinned">push_pin</span>
                                </span>
                                <span class="file-path">Money Seed / Blog / Finance</span>
                            </div>
                            <span class="file-status status-draft">Draft</span>
                            <span class="file-date">Oct 24, 2025</span>

                            <div class="menu-wrapper">
                                <button class="icon-btn" onclick="toggleMenu(this, event)">
                                    <span class="material-symbols-outlined">more_vert</span>
                                </button>
                                <div class="dropdown-menu">
                                    <div class="menu-item" onclick="switchToEditor()">
                                        <span class="material-symbols-outlined">edit</span> Edit
                                    </div>
                                    <div class="menu-item">
                                        <span class="material-symbols-outlined">visibility</span> Preview
                                    </div>

                                    <div class="menu-item" onclick="togglePin(this)">
                                        <span class="material-symbols-outlined">keep</span> <span
                                            class="pin-text">Pin</span>
                                    </div>

                                    <div class="menu-item danger" onclick="openDeleteModal(this)">
                                        <span class="material-symbols-outlined">delete</span> Delete
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="file-item">
                            <div class="file-icon-box">
                                <span class="material-symbols-outlined">article</span>
                            </div>
                            <div class="file-info">
                                <span class="file-name">Welcome to Money Seed</span>
                                <span class="file-path">Money Seed / Blog / Updates</span>
                            </div>
                            <span class="file-status status-published">Published</span>
                            <span class="file-date">Sep 12, 2025</span>
                            <div class="menu-wrapper">
                                <button class="icon-btn" onclick="toggleMenu(this, event)">
                                    <span class="material-symbols-outlined">more_vert</span>
                                </button>
                                <div class="dropdown-menu">
                                    <div class="menu-item" onclick="switchToEditor()">
                                        <span class="material-symbols-outlined">edit</span> Edit
                                    </div>
                                    <div class="menu-item">
                                        <span class="material-symbols-outlined">visibility</span> Preview
                                    </div>

                                    <div class="menu-item" onclick="togglePin(this)">
                                        <span class="material-symbols-outlined">keep</span> <span
                                            class="pin-text">Pin</span>
                                    </div>

                                    <div class="menu-item danger" onclick="openDeleteModal(this)">
                                        <span class="material-symbols-outlined">delete</span> Delete
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <div id="blog-editor" class="blog-editor-container" style="display: none;">

                <div class="editor-header-nav">
                    <div class="nav-left">
                        <button onclick="backToHub()" class="btn-back">
                            <span class="material-symbols-outlined">arrow_back</span>
                            Back to Hub
                        </button>
                    </div>

                    <div class="nav-right" style="display: flex; gap: 1rem; align-items: center;">
                        <button class="btn-preview">
                            <span class="material-symbols-outlined">visibility</span> Preview
                        </button>
                        <div class="auto-save-indicator">
                            <span class="material-symbols-outlined">cloud_done</span> All changes saved
                        </div>
                    </div>
                </div>

                <div class="editor-layout">

                    <div class="editor-main">

                        <div class="word-toolbar">

                            <div class="toolbar-group">
                                <select class="toolbar-select" id="format-block" title="Heading">
                                    <option value="P">Normal</option>
                                    <option value="H1">Heading 1</option>
                                    <option value="H2">Heading 2</option>
                                    <option value="H3">Heading 3</option>
                                </select>

                                <select class="toolbar-select" id="font-family" style="width: 110px;"
                                    title="Font Style">
                                    <option value="Arial">Arial</option>
                                    <option value="'Poppins', sans-serif">Poppins</option>
                                    <option value="'Courier New', monospace">Mono</option>

                                    <option value="Georgia, serif">Georgia</option>
                                    <option value="Verdana, sans-serif">Verdana</option>

                                    <option value="'Padauk', sans-serif">Myanmar</option>
                                </select>

                                <select class="toolbar-select" id="font-size" style="width: 60px;" title="Font Size">
                                    <option value="3" selected>16</option>
                                    <option value="4">18</option>
                                    <option value="5">24</option>
                                    <option value="6">32</option>
                                    <option value="7">48</option>
                                </select>
                            </div>

                            <div class="toolbar-separator"></div>

                            <div class="toolbar-group">
                                <button class="toolbar-btn" title="Bold"><span
                                        class="material-symbols-outlined">format_bold</span></button>
                                <button class="toolbar-btn" title="Italic"><span
                                        class="material-symbols-outlined">format_italic</span></button>
                                <button class="toolbar-btn" title="Underline"><span
                                        class="material-symbols-outlined">format_underlined</span></button>

                                <select class="toolbar-select" title="Text Color" id="color-text">
                                    <option value="#F9FAFB">Default White</option>
                                    <option value="#EF4444" style="color:#EF4444;">Red</option>
                                    <option value="#F97316" style="color:#F97316;">Orange</option>
                                    <option value="#EAB308" style="color:#EAB308;">Yellow</option>
                                    <option value="#22C55E" style="color:#22C55E;">Green</option>
                                    <option value="#3B82F6" style="color:#3B82F6;">Blue</option>
                                    <option value="#A855F7" style="color:#A855F7;">Purple</option>
                                    <option value="#EC4899" style="color:#EC4899;">Pink</option>
                                    <option value="#9CA3AF" style="color:#9CA3AF;">Gray</option>
                                </select>

                                <select class="toolbar-select" title="Highlight" id="color-hilite">
                                    <option value="#1F2937">No Highlight</option>

                                    <option value="#7F1D1D" style="background:#7F1D1D; color:white;">Red Bg</option>
                                    <option value="#78350F" style="background:#78350F; color:white;">Orange Bg</option>
                                    <option value="#713F12" style="background:#713F12; color:white;">Yellow Bg</option>
                                    <option value="#064E3B" style="background:#064E3B; color:white;">Green Bg</option>
                                    <option value="#1E3A8A" style="background:#1E3A8A; color:white;">Blue Bg</option>
                                    <option value="#312E81" style="background:#312E81; color:white;">Indigo Bg</option>
                                    <option value="#4C1D95" style="background:#4C1D95; color:white;">Purple Bg</option>
                                    <option value="#831843" style="background:#831843; color:white;">Pink Bg</option>
                                    <option value="#374151" style="background:#374151; color:white;">Grey Bg</option>
                                </select>

                            </div>

                            <div class="toolbar-separator"></div>

                            <div class="toolbar-group">
                                <button class="toolbar-btn" title="Align Left"><span
                                        class="material-symbols-outlined">format_align_left</span></button>
                                <button class="toolbar-btn" title="Align Center"><span
                                        class="material-symbols-outlined">format_align_center</span></button>
                                <button class="toolbar-btn" title="Align Right"><span
                                        class="material-symbols-outlined">format_align_right</span></button>
                                <button class="toolbar-btn" title="Bullet List"><span
                                        class="material-symbols-outlined">format_list_bulleted</span></button>
                                <button class="toolbar-btn" title="Numbered List"><span
                                        class="material-symbols-outlined">format_list_numbered</span></button>
                                <button class="toolbar-btn" title="Checklist"><span
                                        class="material-symbols-outlined">checklist</span></button>
                            </div>
                            <div class="toolbar-separator"></div>

                            <div class="toolbar-group">
                                <button class="toolbar-btn" title="Link"><span
                                        class="material-symbols-outlined">link</span></button>
                                <button class="toolbar-btn" title="Image"><span
                                        class="material-symbols-outlined">image</span></button>
                                <button class="toolbar-btn" title="Video"><span
                                        class="material-symbols-outlined">movie</span></button>
                                <button class="toolbar-btn" title="Table"><span
                                        class="material-symbols-outlined">table_chart</span></button>
                                <button class="toolbar-btn" title="Divider"><span
                                        class="material-symbols-outlined">horizontal_rule</span></button>
                                <button class="toolbar-btn" title="Quote"><span
                                        class="material-symbols-outlined">format_quote</span></button>
                                <button class="toolbar-btn" title="Code"><span
                                        class="material-symbols-outlined">code</span></button>
                            </div>

                        </div>

                        <div class="editor-canvas-wrapper">
                            <input type="text" class="post-title-input" placeholder="Blog Post Title">
                            <div class="post-content-textarea" id="editor-text-area" contenteditable="true"
                                data-placeholder="Type / to choose a block, or start writing..."></div>
                        </div>

                        <div class="editor-footer-bar">

                            <div class="footer-left">
                                <span id="word-count">Words: 0</span>
                            </div>

                            <div class="footer-right">
                                <button class="footer-icon-btn" id="btn-undo" title="Undo (Ctrl+Z)">
                                    <span class="material-symbols-outlined">undo</span>
                                </button>
                                <button class="footer-icon-btn" id="btn-redo" title="Redo (Ctrl+Y)">
                                    <span class="material-symbols-outlined">redo</span>
                                </button>
                            </div>

                        </div>
                    </div>

                    <div class="editor-sidebar">

                        <div class="editor-card">
                            <h3>Publish</h3>
                            <div class="editor-card-content">
                                <p class="status-text">Status: <span class="status-draft">Draft</span></p>
                                <button class="btn-publish">
                                    <span class="material-symbols-outlined">rocket_launch</span> Publish
                                </button>
                                <button class="btn-save-draft">Save Draft</button>
                            </div>
                        </div>

                        <div class="editor-card">
                            <h3>Post Settings</h3>
                            <div class="editor-card-content">
                                <label>Category</label>
                                <select class="editor-select">
                                    <option>Technology</option>
                                </select>

                                <label>Tags</label>
                                <input type="text" class="editor-input" placeholder="Add tags...">

                                <label>Featured Image</label>
                                <div class="image-upload-box">
                                    <span class="material-symbols-outlined">cloud_upload</span>
                                    <p>Upload Cover</p>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
    </div>
    </main>
    </div>

    <div id="delete-modal" class="modal-overlay">
        <div class="modal-box">
            <div class="modal-icon">
                <span class="material-symbols-outlined">warning</span>
            </div>
            <h3>Delete this file?</h3>
            <p>This action cannot be undone. The file will be permanently removed.</p>
            <div class="modal-actions">
                <button class="btn-cancel" onclick="closeDeleteModal()">Cancel</button>
                <button class="btn-delete-confirm" id="confirm-delete-btn">Delete</button>
            </div>
        </div>
    </div>

    <div id="link-modal" class="modal-overlay">
        <div class="modal-box" style="width: 350px;">
            <div class="modal-icon" style="background: rgba(16, 185, 129, 0.1);">
                <span class="material-symbols-outlined" style="color: var(--accent);">link</span>
            </div>

            <h3>Insert Link</h3>

            <input type="text" id="link-url-input" class="editor-input" placeholder="https://example.com"
                style="margin: 1rem 0;">

            <div class="modal-actions">
                <button class="btn-cancel" onclick="closeLinkModal()">Cancel</button>
                <button class="btn-publish" id="confirm-link-btn" style="width: auto;">Insert Link</button>
            </div>
        </div>
    </div>

    <div id="editor-tooltip" class="custom-tooltip">Ctrl + Click to follow link</div>

    <input type="file" id="hidden-image-input" accept="image/*" style="display: none;">

    <div id="image-toolbar" class="image-settings-bar">
        <button onclick="resizeImage('25%')">Small</button>
        <button onclick="resizeImage('50%')">Medium</button>
        <button onclick="resizeImage('100%')">Full</button>

        <div class="toolbar-separator" style="height: 15px; margin: 0 5px; background: #4B5563; width: 1px;"></div>

        <button onclick="alignImage('left')" title="Left"><span
                class="material-symbols-outlined">format_align_left</span></button>
        <button onclick="alignImage('center')" title="Center"><span
                class="material-symbols-outlined">format_align_center</span></button>
        <button onclick="alignImage('right')" title="Right"><span
                class="material-symbols-outlined">format_align_right</span></button>

        <div class="toolbar-separator" style="height: 15px; margin: 0 5px; background: #4B5563; width: 1px;"></div>

        <button onclick="deleteImage()" class="btn-delete-img">
            <span class="material-symbols-outlined">delete</span>
        </button>
    </div>

    <script src="js/admin-dashboard-script.js"></script>
    <script src="https://unpkg.com/lucide-icons"></script>
    <script>
        lucide.createIcons();
    </script>

    <script>
        const textarea = document.querySelector('.post-content-textarea');

        // Function to auto-resize the textarea
        const autoResize = () => {
            textarea.style.height = 'auto'; // Reset height
            textarea.style.height = textarea.scrollHeight + 'px'; // Set to new content height
        };

        // Listen for typing
        textarea.addEventListener('input', autoResize);

        // Run once on load (in case there's already text)
        autoResize();
    </script>
</body>

</html>